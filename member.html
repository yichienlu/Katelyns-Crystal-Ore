<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <title>會員中心｜Katelyn's Crystal & Ore 晶礦飾品訂製</title>

  <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://code.iconify.design/iconify-icon/1.0.1/iconify-icon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/validate.js/0.12.0/validate.min.js"></script>

  <script src="https://gist.githubusercontent.com/akovalyov/51d220c907bd7398bca9/raw/57f2c2beb61ef7a9812519b006382db6fdff704d/html2canvas.svg.js"></script>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&family=Merienda:wght@400;700&family=Rock+Salt&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"/>

  <link rel="stylesheet" href="./assets/style/all.css">
  <link rel="stylesheet" href="./assets/style/style.css">

  <style>
    #user_icon:hover #user_box{
      display: block;
    }
    *{
      /* outline: 1px solid #AAA; */
      box-sizing: border-box;
    }

  </style>
</head>
<!-- https://hackmd.io/UFgAadfSTf6L0sqXJvCV8g -->
<body class="relative" >
  <header class="bg-slate-700 text-white py-[18px] px-3 sticky w-full" style="z-index:900">
    <nav class="container flex items-center mx-auto">
      <a href="index.html" class="block mr-auto">
        <h1 class="font-2">
          <div class="font-bold text-2xl ">Katelyn's</div>
          <div class="text-slate-400 text-center">Crystal & Ore</div>
        </h1>
      </a>
  
      <ul class="items-center hidden text-xl lg:flex">
        <li><a href="test.html" class=" hover:text-slate-400 mr-10">脈輪測驗</a></li>
        <li><a href="design.html" class=" hover:text-slate-400 mr-10">找晶礦</a></li>
        <li><a href="design.html" class="btn-outline outline-2 outline-neutral-50">客製化設計手串</a></li>
      </ul>
  
      <ul class="flex items-center ml-16 ">
        <li class="">
          <a href="cart.html" class="block px-1 py-2 hover:text-slate-400">
            <iconify-icon icon="bi:cart-dash" width="24" height="24" class="lg:hidden"></iconify-icon>
            <iconify-icon icon="bi:cart-dash" width="28" height="28" class="hidden lg:inline"></iconify-icon>
          </a>
        </li>
        <li id="user_icon" class="ml-4 lg:ml-9 relative">
          <button class="block px-1 py-2 hover:text-slate-400">
            <iconify-icon icon="bx:user" width="24" height="24" class="lg:hidden"></iconify-icon>
            <iconify-icon icon="bx:user" width="28" height="28" class="hidden lg:block"></iconify-icon>
          </button>
          <div id="user_box" class="hidden absolute w-[100px] bg-white shadow-md right-0 top-full text-neutral-900">
            <ul>
              <li id="loggedin_greeting" class=""></li>
              <li id="link_member" class="hidden"><a href="member.html" class="block w-full px-4 py-3 text-center hover:bg-neutral-200">會員中心</a></li>
              <li id="link_login"><a href="login.html" class="block w-full px-4 py-3 text-center hover:bg-neutral-200">登入</a></li>
              <li id="link_logout" class="hidden"><a href="#" class="block w-full px-4 py-3 text-center hover:bg-neutral-200">登出</a></li>
              <li id="link_admin" class="hidden"><a href="admin_orders.html" class="block w-full px-4 py-3 text-center hover:bg-neutral-200">後台</a></li>
            </ul>
          </div>
        </li>
        <li class="ml-4 lg:hidden">
          <a href="#" class="block px-1 py-2 hover:text-slate-400" onclick="toggleMenu(1)">
            <iconify-icon icon="bx:menu" width="24" height="24"></iconify-icon>
          </a>
        </li>
        <li class="hidden ml-4">
          <a href="#" class="block px-1 py-2 hover:text-slate-400" onclick="toggleMenu(0)">
            <iconify-icon icon="carbon:close" width="24" height="24"></iconify-icon>
          </a>
        </li>
      </ul>
    </nav>
  
    <nav id="menu" class="fixed top-0 bottom-0 left-0 right-0 hidden lg:hidden bg-neutral-200 text-slate-700">
        <div class="px-3 bg-slate-700">
      <div class="container mx-auto flex items-center py-[18px]">
          
        <a href="index.html" class="block mr-auto">
          <div class="font-2 ">
            <div class="font-bold text-2xl text-white">Katelyn's</div>
            <div class="text-slate-400 text-center">Crystal & Ore</div>
          </div>
        </a>
  
          <ul class="items-center">
            <li class="ml-4">
              <a href="#" class="block px-1 py-2 text-white hover:text-slate-400" onclick="toggleMenu(0)">
                <iconify-icon icon="carbon:close" width="24" height="24"></iconify-icon>
              </a>
            </li>
          </ul>
        </div>
      </div>
          <div class="px-3">
            <ul class="my-6">
                      <li><a href="test.html" class="block p-4 hover:text-neutral-500">脈輪測驗</a></li>
                      <li><a href="design.html" class="block p-4 hover:text-neutral-500 ">找晶礦</a></li>
                    </ul>
                 <a href="design.html" class="block w-full text-center btn-primary">客製化設計手串</a> 
          </div>
    </nav>
  </header>

  <div class="px-3 py-5  mx-auto">


  <h3 class="font-bold text-lg lg:text-xl px-6 py-2 rounded-t-2xl text-slate-700 bg-slate-400 inline-block">會員資料</h3>
  <div class="border-4 border-slate-400 p-6 mb-10">
    <div class="md:flex items-center mb-3">
      <div class="mr-4 inline-block font-bold">帳　　號</div>
      <div id="member_email" class="py-2 "></div>
    </div>
    <div class="mb-3 md:flex items-center">
      <label for="member_password" class="block mb-2 md:mb-0 mr-4 font-bold">修改密碼</label>
      <div class="flex w-full sm:w-3/4 md:w-2/3 lg:w-1/2 xl:w-1/3 2xl:w-1/4">
        <input type="password" id="member_password" class="mr-2 rounded-md grow w-full" style="min-width: 168px;">
        <input type="button" value="確認" onclick="changePassword()" class="bg-slate-700 text-white border-slate-700 rounded-md px-4 py-2 ">
      </div>
    </div>
    <div class="md:flex items-center">
      <label for="member_birthday" class="block mb-2 md:mb-0 mr-4 font-bold">修改生日</label>
      <div class="flex w-full sm:w-3/4 md:w-2/3 lg:w-1/2 xl:w-1/3 2xl:w-1/4">
        <input type="date" id="member_birthday" class="mr-2 rounded-md grow w-full" style="min-width: 168px;">
        <input type="button" value="確認" onclick="changeBirthday()" class="bg-slate-700 text-white border-slate-700 rounded-md px-4 py-2 ">
      </div>
      
    </div>
  </div>


  <h3 class="font-bold text-lg lg:text-xl px-6 py-2 rounded-t-2xl text-slate-700 bg-slate-400 inline-block">訂單紀錄</h3>
  <div class="mb-10 border-4 border-slate-400 border-b-0 text-neutral-900">
    <table id="orderTable" class="border-0 w-full hidden lg:table">
      <thead class=" border-0 bg-slate-400 text-white text-center">
        <tr class="border-b-4 ">
          <td class="w-10 border border-slate-400 text-center">編號</td>
          <td class="min-w-20 border border-slate-400">時間</td>
          <td class="min-w-40 border border-slate-400">收件資訊</td>
          <td class="border border-slate-400">訂購項目</td>
          <td class="w-20 border border-slate-400">
            <span>總金額</span>
          </td>
          <td class="w-20 border border-slate-400">
            <span>訂單狀態</span>
          </td>
        </tr>
      </thead>
    <tbody id="orders_list">
    </tbody>
    </table>
  
    <div class="" id="no_order">
      <p>尚無訂單</p>
      <a href="test.html" class="w-full lg:w-auto btn-primary mt-6">訂製專屬手串</a>
    </div>
  
    <ul id="orders_list_mobile" class="lg:hidden"></ul>
  


  </div>
  


  <h3 class="font-bold text-lg lg:text-xl px-6 py-2 rounded-t-2xl text-slate-700 bg-slate-400 inline-block">脈輪測驗結果</h3>
  <div class="border-4 border-slate-400 p-6 mb-10">
    <section id="results">
      <div class="container mx-auto ">
        <ul class="md:w-3/4 lg:w-2/3 xl:w-1/2 mx-auto text-center mb-8 lg:mb-12">
          <li class="mb-2 flex items-center">
            <div class="w-3/12 text-center font-medium">
              <div class="text-md lg:text-lg">頂輪</div>
            </div> 
            <div class="self-stretch w-6/12 flex items-center">
              <div id="c-chart" class="h-full bg-purple-400"></div>              
            </div>
            <div id="c-score" class="w-1/12 text-md lg:text-lg "></div>
            <div id="c-result" class="w-2/12 text-md lg:text-lg"></div>
          </li>
          <li class="mb-2 flex items-center">
            <div class="w-3/12 text-center font-medium">
              <div class="text-md lg:text-lg">眉心輪</div>
            </div> 
            <div class="self-stretch w-6/12 flex items-center">
              <div id="e-chart" class="h-full bg-indigo-400"></div>              
            </div>
            <div id="e-score" class="w-1/12 text-md lg:text-lg "></div>
            <div id="e-result" class="w-2/12 text-md lg:text-lg"></div>
          </li>
          <li class="mb-2 flex items-center">
            <div class="w-3/12 text-center font-medium">
              <div class="text-md lg:text-lg">喉輪</div>
            </div> 
            <div class="self-stretch w-6/12 flex items-center">
              <div id="t-chart" class="h-full bg-sky-400"></div>              
            </div>
            <div id="t-score" class="w-1/12 text-md lg:text-lg "></div>
            <div id="t-result" class="w-2/12 text-md lg:text-lg"></div>
          </li>
          <li class="mb-2 flex items-center">
            <div class="w-3/12 text-center font-medium">
              <div class="text-md lg:text-lg">心輪</div>
            </div> 
            <div class="self-stretch w-6/12 flex items-center">
              <div id="h-chart" class="h-full bg-lime-400"></div>              
            </div>
            <div id="h-score" class="w-1/12 text-md lg:text-lg "></div>
            <div id="h-result" class="w-2/12 text-md lg:text-lg"></div>
          </li>
          <li class="mb-2 flex items-center">
            <div class="w-3/12 text-center font-medium">
              <div class="text-md lg:text-lg">臍輪</div>
            </div> 
            <div class="self-stretch w-6/12 flex items-center">
              <div id="p-chart" class="h-full bg-yellow-400"></div>              
            </div>
            <div id="p-score" class="w-1/12 text-md lg:text-lg "></div>
            <div id="p-result" class="w-2/12 text-md lg:text-lg"></div>
          </li>
          <li class="mb-2 flex items-center">
            <div class="w-3/12 text-center font-medium">
              <div class="text-md lg:text-lg">腹輪</div>
            </div> 
            <div class="self-stretch w-6/12 flex items-center">
              <div id="s-chart" class="h-full bg-orange-400"></div>              
            </div>
            <div id="s-score" class="w-1/12 text-md lg:text-lg "></div>
            <div id="s-result" class="w-2/12 text-md lg:text-lg"></div>
          </li>
          <li class="mb-2 flex items-center">
            <div class="w-3/12 text-center font-medium">
              <div class="text-md lg:text-lg">海底輪</div>
            </div> 
            <div class="self-stretch w-6/12 flex items-center">
              <div id="r-chart" class="h-full bg-red-400"></div>              
            </div>
            <div id="r-score" class="w-1/12 text-md lg:text-lg "></div>
            <div id="r-result" class="w-2/12 text-md lg:text-lg"></div>
          </li>

          </ul>
          <ul class="lg:text-lg">
            <li class="mb-2 lg:mb-3 border-l-8 border-purple-400 px-2 py-1 lg:px-3 lg:py-2">
              <p>頂輪主要掌管智慧及和世界為一體的感覺。當此脈輪活躍時，你會傾向沒有偏見，並且十分意識到此世界和你的存在。</p>
              <p id="c-highLow"></p>
            </li>
            <li class="mb-2 lg:mb-3 border-l-8 border-indigo-400 px-2 py-1 lg:px-3 lg:py-2">
              <p>眉心輪主要掌管洞察力和視覺化能力。當此脈輪活躍時，你會有很好的直覺，並且喜歡幻想。</p>
              <p id="e-highLow"></p>
            </li>
            <li class="mb-2 lg:mb-3 border-l-8 border-sky-400 px-2 py-1 lg:px-3 lg:py-2">
              <p>喉輪主要掌管自我表達和言談。當喉輪活躍時，你將無障礙的表達你自己，你可以藉此而成為藝術家。</p>
              <p id="t-highLow"></p>
            </li>
            <li class="mb-2 lg:mb-3 border-l-8 border-lime-400 px-2 py-1 lg:px-3 lg:py-2">
              <p>心輪主要掌管愛，善良等一般情感。當心輪打開時，你會具有同情心、友善，並且你會致力於和諧的人際關係。</p>
              <p id="h-highLow"></p>
            </li>
            <li class="mb-2 lg:mb-3 border-l-8 border-yellow-400 px-2 py-1 lg:px-3 lg:py-2">
              <p>臍輪主要掌管你在團體中的感覺。當臍輪活躍時，你感覺在掌控中而且有足夠的自信心。</p>
              <p id="p-highLow"></p>
            </li class="mb-2 lg:mb-3">
            <li class="mb-2 lg:mb-3 border-l-8 border-orange-400 px-2 py-1 lg:px-3 lg:py-2">
              <p>腹輪主要掌管情感和性慾。當腹輪活躍時，你的情感表達自如，而且表達時不會流於過度情緒化，對於親密關係採取開放態度，感覺充滿熱情和活力。</p>
              <p id="s-highLow"></p>
            </li>
            <li class="mb-2 lg:mb-3 border-l-8 border-red-400 px-2 py-1 lg:px-3 lg:py-2">
              <p>海底輪的能量主要掌管與肉體的聯繫，使人感覺安全放心。如果海底輪處於活躍狀態，你將覺得有種「身植大地」的感覺，感到穩定和安全。你不會不必要的懷疑他人。你覺得活在當下，而且和你的肉體緊密結合，覺得有充分的領域感。</p>
              <p id="r-highLow"></p>
            </li>
          </ul>
          <div class="">
            <a href="test.html" class="w-full lg:w-auto btn-primary mt-6">重新測驗</a>                  
          </div>
        </div>
      </section>
      <div class="" id="no_test">
        <p>尚未完成脈輪測驗</p>
        <a href="test.html" class="w-full lg:w-auto btn-primary mt-6">前往測驗</a>
      </div>
  </div>

</div>

<script>
// let test_result=[]
let chakraData=[];

function getUserData(){
  axios.get(`https://katelyns-crystal-ore.onrender.com/users/${localStorage.getItem("userId")}`)
  .then((res)=>{
    document.querySelector("#member_email").innerHTML = res.data.email
    document.querySelector("#member_birthday").value = res.data.birthday
    let test_result = res.data.test_result;
    setTimeout(()=>{
      showScores(test_result);
      createCharts(test_result)
    },0)
})
  .catch((err)=>{
    console.log(err)
  })
}

function getChakraData(){
  axios.get(`https://katelyns-crystal-ore.onrender.com/chakras`)
  .then((res)=>{
    chakraData = res.data;
    getUserData()
  })
  .catch((err)=>{
    console.log(err)
  })
}

function getOrdersData(){
  axios.get(`https://katelyns-crystal-ore.onrender.com/users/${localStorage.getItem("userId")}/orders`)
  .then((res)=>{
    renderOrdersData(res.data)
  })
  .catch((err)=>{
    console.log(err)
  })
}


function renderOrdersData(data){
  if(data.length == 0){
    document.querySelector("#orderTable").classList.add("hidden")
    document.querySelector("#orderTable thead").classList.add("hidden")
  }else{
    document.querySelector("#no_order").classList.add("hidden")

  let str = "";
  let str_mobile = ""
  data.forEach(function(item){

    let products="";
    let price="";
    item.products.forEach(function(product){

      let beads = "";
      product.beads.forEach(function(bead){
        beads+=`${bead[0]}(${bead[1]})、`
      })
      beads = beads.slice(0,-1)
      products+=`
        <li class="xl:flex items-center border-0 border-b border-slate-400">
          <div class="sm:flex lg:block xl:flex items-center">
            <div class="mx-auto w-[300px] h-[300px] shrink-0 relative border-0">
              <ul class="absolute top-1/2 left-1/2 list-none">
                ${product.image}
              </ul>
            </div>
            <div class="mx-auto border-0 p-2">
              <div class="font-bold mb-2">手圍：${product.size/10} cm</div>
              ${beads}
            </div>
          </div>
          <div class="w-20 shrink-0 p-2 font-bold">$ ${product.price}</div>        
          
        </li>
      `

    })

    let time = new Date(item.order_time)
    str += `
    <tr class="border-b-4 border-slate-400">
        <td class="border-0 text-center font-bold" style="border-color: #94a3b8">
          ${item.id}
        </td>
        <td class="border-0 p-2 font-bold" style="border-color: #94a3b8">
          <div>${time.getFullYear()}/${(time.getMonth()+1).toString().padStart(2,'0')}/${time.getDate().toString().padStart(2,'0')}</div>
          <div>${time.getHours().toString().padStart(2,'0')}:${time.getMinutes().toString().padStart(2,'0')}:${time.getSeconds().toString().padStart(2,'0')}</div>
        </td>
        <td class="border-0 p-2" style="border-color: #94a3b8">
          <p>${item.name}</p>
          <p>${item.phone}</p>
          <p>${item.address}</p>
          <p>${item.email}</p>
        </td>
        <td class="border-0" style="border-color: #94a3b8">
          <ul class="">
            ${products}                        
          </ul>
        </td>
        <td class="border-0 text-center" style="border-color: #94a3b8">      
          <div class="font-bold text-red-600">$${item.final_price}</div>
          </td>
        <td class="border-0 text-center" style="border-color: #94a3b8">
          <div class="${item.isPaid? "text-green-600 mb-5":"text-red-600 mb-1"}">${item.isPaid? "已付款":"未付款"}</div>
          <button class="px-2 py-1 mb-5 border-2 border-slate-700 text-slate-700 hover:bg-slate-700 hover:text-white rounded-md ${item.isPaid ? 'hidden':''}" onclick="payOrder(${item.id})">去付款</button>
          <div class="${item.isShipped? "text-green-600":"text-red-600"} ${item.isPaid ? '':'hidden'}">${item.isShipped? "已出貨":"未出貨"}</div>
        </td>
      </tr>
    `
    str_mobile += `
      <li class="lg:flex items-center border-b-4 border-slate-400">
        <div class="lg:flex">
          <div class="flex 2xl:block  p-2 border-b-2 font-bold">
            <div class="mr-auto">訂單編號：${item.id}</div>
            <div>
              ${time.getFullYear()}/${(time.getMonth()+1).toString().padStart(2,'0')}/${time.getDate().toString().padStart(2,'0')} ${time.getHours().toString().padStart(2,'0')}:${time.getMinutes().toString().padStart(2,'0')}:${time.getSeconds().toString().padStart(2,'0')}
            </div>
          </div>
          <div class="p-2 border-b-2">
            <p>${item.name}</p>
            <p>${item.phone}</p>
            <p>${item.address}</p>
            <p>${item.email}</p>
          </div>
        </div>
        <div>
        
          </div>
        
        <ul class="list-none">${products}</ul>
        <div class="flex items-center p-2 border-t-2">
          <div class="font-bold mr-auto">總金額：<span class="text-red-600">$${item.final_price}</span></div>
          <div class="${item.isPaid? "text-green-600":"text-red-600"} mr-2">${item.isPaid? "已付款":"未付款"}</div>
          <button class="px-2 py-1 border-2 border-slate-700 text-slate-700 hover:bg-slate-700 hover:text-white rounded-md ${item.isPaid ? 'hidden':''}" onclick="payOrder(${item.id})">付款</button>
          <div class="${item.isShipped? "text-green-600":"text-red-600"} ${item.isPaid ? '':'hidden'}">${item.isShipped? "已出貨":"未出貨"}</div>
        </div>
        
      </li>
    `
  })
  document.querySelector("#orders_list").innerHTML = str
  document.querySelector("#orders_list_mobile").innerHTML = str_mobile
}
}

function payOrder(id){
  axios.patch(`https://katelyns-crystal-ore.onrender.com/orders/${id}`,{
    "isPaid":true
  })
  .then((res)=>{
    Swal.fire({
        title: '已成功付款',
        text:'敬請期待商品到達',
        icon: 'success',
        showConfirmButton: false,
        timer: 1500
      })
    getOrdersData()
  })
  .catch((err)=>{
    console.log(err)
  })
}



function showScores(test_result) {
  if(test_result[0]==0){
    document.querySelector("#results").classList.add("hidden")
    document.querySelector("#no_test").classList.remove("hidden")
  }else{
    document.querySelector("#results").classList.remove("hidden")
    document.querySelector("#no_test").classList.add("hidden")

    document.querySelector("#c-score").innerHTML = test_result[6];
    document.querySelector("#c-result").innerHTML = showResults(test_result[6])[0];
    document.querySelector("#c-highLow").innerHTML = chakraData[6][showResults(test_result[6])[1]] || "";

    document.querySelector("#e-score").innerHTML = test_result[5];
    document.querySelector("#e-result").innerHTML = showResults(test_result[5])[0];
    document.querySelector("#e-highLow").innerHTML = chakraData[5][showResults(test_result[5])[1]] || "";

    document.querySelector("#t-score").innerHTML = test_result[4];
    document.querySelector("#t-result").innerHTML = showResults(test_result[4])[0];
    document.querySelector("#t-highLow").innerHTML = chakraData[4][showResults(test_result[4])[1]] || "";

    document.querySelector("#h-score").innerHTML = test_result[3];
    document.querySelector("#h-result").innerHTML = showResults(test_result[3])[0];
    document.querySelector("#h-highLow").innerHTML = chakraData[3][showResults(test_result[3])[1]] || "";

    document.querySelector("#p-score").innerHTML = test_result[2];
    document.querySelector("#p-result").innerHTML = showResults(test_result[2])[0];
    document.querySelector("#p-highLow").innerHTML = chakraData[2][showResults(test_result[2])[1]] || "";

    document.querySelector("#s-score").innerHTML = test_result[1];
    document.querySelector("#s-result").innerHTML = showResults(test_result[1])[0];
    document.querySelector("#s-highLow").innerHTML = chakraData[1][showResults(test_result[1])[1]] || "";

    document.querySelector("#r-score").innerHTML = test_result[0];      
    document.querySelector("#r-result").innerHTML = showResults(test_result[0])[0];
    document.querySelector("#r-highLow").innerHTML = chakraData[0][showResults(test_result[0])[1]] || "";
  }
}
function showResults(score){
  return score<10 ? ["過弱","ifLow"] :
  score<14 ? ["偏弱","ifLow"] :
  score<20 ? ["一般",""] :
  score<25 ? ["偏強","ifHigh"] : ["過強","ifHigh"]
}

function createCharts(test_result) {
  let total = 28;
  document.querySelector("#c-chart").style.width = (test_result[6] / total * 100) + "%";
  document.querySelector("#e-chart").style.width = (test_result[5] / total * 100) + "%";
  document.querySelector("#t-chart").style.width = (test_result[4] / total * 100) + "%";
  document.querySelector("#h-chart").style.width = (test_result[3] / total * 100) + "%";
  document.querySelector("#p-chart").style.width = (test_result[2] / total * 100) + "%";
  document.querySelector("#s-chart").style.width = (test_result[1] / total * 100) + "%";
  document.querySelector("#r-chart").style.width = (test_result[0] / total * 100) + "%";
}


function init(){
  getChakraData()
  getOrdersData()
}

init()

function changePassword(){
  if(document.querySelector("#member_password").value){
    axios.patch(`https://katelyns-crystal-ore.onrender.com/users/${localStorage.getItem("userId")}`,{
      "password":document.querySelector("#member_password").value
    })
    .then((res)=>{
      Swal.fire({
        title: '密碼已更新',
        icon: 'success',
        showConfirmButton: false,
        timer: 1500
      })
    })
    .catch((err)=>{
      console.log(err)
    })
  }  
}
function changeBirthday(){
    axios.patch(`https://katelyns-crystal-ore.onrender.com/users/${localStorage.getItem("userId")}`,{
      "birthday":document.querySelector("#member_birthday").value
    })
    .then((res)=>{
      Swal.fire({
        title: '生日已更新',
        icon: 'success',
        showConfirmButton: false,
        timer: 1500
      })
    })
    .catch((err)=>{
      console.log(err)
    })
  

}
</script>

  <footer class="px-3 py-8 bg-slate-700 lg:py-8">
    <div class="container mx-auto">
      <div class="items-center justify-between lg:flex">
        <a href="index.html" class="block mb-6 font-2 lg:mb-0 ">
          <div class="text-xl font-bold text-white">Katelyn's</div>
          <div class=" text-slate-400 text-xs">Crystal & Ore</div>
        </a>
        <ul class="text-neutral-200 lg:flex lg:items-center">
          <li class="mb-4 mr-20 lg:mb-0 flex lg:block">
            <p class="mb-2 text-neutral-400 w-1/4">Info</p>
            <ul class="flex">
              <li class="mr-6"><a href="#" class="block">訂製流程</a></li>
              <li class="mr-6"><a href="#" class="block">最新消息</a></li>
              <li><a href="#" class="block">常見問題</a></li>
            </ul>
          </li>
          <li class=" flex lg:block">
          <p class="mb-2 text-neutral-400 w-1/4">About</p>
            <ul class="flex">
              <li class="mr-6"><a href="#" class="block">關於我們</a></li>
              <li class="mr-6"><a href="#" class="block">聯絡我們</a></li>
              <li><a href="admin_users.html" class="block">會員管理</a></li>
            </ul>
          </li>
        </ul>
        <p class="self-end mt-7 lg:my-0 text-neutral-400">Copyright ©2022 Katelyn’s Crystal & Ore</p>     
      </div>
    </div>
  </footer>

  <div id="loader" class="fixed top-0 bottom-0 left-0 right-0 bg-slate-700" style="z-index:1000">
    <div class="absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 flex items-center">
      <img src="./assets/images/index/crystal.png" alt="" class="block mx-auto w-12">
      <p class="font-2 text-3xl text-slate-400 ml-4">Loading
      </p>
    </div>
  </div>

  <!-- <script src="sweetalert2.all.min.js"></script> -->
  <script src="./assets/js/vendors.js"></script>
  <script src="./assets/js/all.js"></script>
</body>

</html>